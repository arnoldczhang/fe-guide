# 前端架构治理

## 参考

- [保证前端项目代码质量](https://zhuanlan.zhihu.com/p/82546272)
- [衡量前端工程质量](https://www.infoq.cn/article/FGrQeAw5mNKjWkxGV12U)
- [字节-现代web开发实践](https://mp.weixin.qq.com/s?__biz=MzkxNDIzNTg4MA==&mid=2247484407&idx=1&sn=c3706cdacefe4fd0ee372804ce53b4ce&scene=21#wechat_redirect)

---

## 前端标准规范

### 编码规范

- js
- css
- html
- vue

### 工程规范

- git规范
- 提交规范（格式、工具、信息）

---

## 基础设置

- 自建Gitlab
- 版本管理
- 自动编译发布Jenkins
- 纯前端版本发布
- 统一脚手架
- Node中间层
- 埋点系统
- 监控和报警系统
- 安全管理
- Eslint
- sonarQube
- 灰度发布
- 前后端分离
- Mock
- 定期备份
- 组件预览
- 样式管理

### 样式管理

- UI库，自定义样式能收归为统一变量管理，比如能否轻松实现切换黑夜/白天模式
- 可参考[css变量替换](../less./README.md#css变量替换)

### 统一协作方式

- commit、code-review工具&机制

### 组件预览

- 项目中所有组件可以通过统一页面展示效果，也可以在页面上动态改变组件属性等

### sonarQube

#### API

```sh
# 请求语言接口
https://sonar.corp.xxx.com/api/languages/list
```

### 项目特色组件

个人理解，组件化以实用为主，以符合ui稿为准，不用以**绝对的通用性**为标准，

因为绝对的通用性，需要组件做到两点：

1. 功能极度完善（包含各种逻辑、各种视觉交互等 --> 参考element）
2. 功能极度抽象（不含任何逻辑，不含任何视觉，纯抽象类 --> 这和没封装的区别是什么？前端非后端，纯功能层面的抽象没用，视觉更重要）

### 自动化测试

体系化管理：平台 + 录制工具

---

## 长效维护

- 可扩展性：能够很方便、清晰的扩展一个页面、组件、模块
- 组件化：多个页面之间共用的大块代码可以独立成组件，多个页面、组件之间共用的小块代码可以独立成公共模块
- 可阅读性：阅读性良好（包括目录文件结构、代码结构），能够很快捷的找到某个页面、组件的文件，也能快捷的看出项目有哪些页面、组件
- 可移植性：能够轻松的对项目架构进行升级，或移植某些页面、组件、模块到其他项目
- 可重构性：对某个页面、组件、模块进行重构时，能够保证在重构之后功能不会改变、不会产生新 bug
- 开发友好：开发者在开发某一个功能时，能够有比较好的体验（不好的体验比如：多个文件相隔很远）
- 协作性：多人协作时，很少产生代码冲突、文件覆盖等问题
- 可交接性：当有人要离开项目时，交接给其他人是很方便的



### 组件化

**原则**

- 为了复用
- 为了维护
- 为了解耦