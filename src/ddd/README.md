# 领域驱动模型

## 通用架构

**展现层**

> 负责向用户展现信息

**应用层**

> 协调应用内的活动
>
> 不包含业务逻辑，不保留业务对象的状态，仅保留业务进度状态
>

**领域层**

> 业务核心，包含关于领域的信息
>
> 保留业务对象的状态
>

**基础设施层**

>
> 作为其他层的支撑层
>
> 实现业务对象的持久化，提供各层通信
>

---

## 要素

**实体(Entity)**

> 具有唯一标识的基本元素（class）

**值对象(Value Object)**

> 没有唯一标识的实体（class.getInstance()）


**服务(Service)**

> 无状态，无属性，提供便捷方法，具有行为，行为无状态（Utils）
>
> 但是行为不属于任何实体或对象，能涉及多个对象，
>

**模块(Module)**

> 应当包含统一接口供外部调用，
>
> 通过组织模块，降低模型复杂度（mixins）

**聚合(Aggregates)**

> 用一组领域对象（包括实体、值对象）表述一个完整的领域
>
> 每个聚合都有一个根实体，叫聚合根，在聚合中，聚合根是唯一允许外部引用的元素，
>
> 聚合内部的对象可以互相引用，外部只能看到聚合根
>

**工厂(Factory)**

> 封装复杂对象的创建过程（复杂class）
>
> 聚合的根创建后，聚合包含的对象也随之创建
> 

**资源库(Repositories)**

> 封装所有获取对象引用的逻辑，是全局存储点（storage）
>
> 与DAO的区别：DAO包含了从数据库提取数据，是资源库的下层
>
> 与工厂的区别：工厂创建对象，资源库保存已创建的对象
>

