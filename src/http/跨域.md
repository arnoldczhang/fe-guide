# 跨域

## 参考
- [九种跨域方式实现原理](https://juejin.im/post/5c23993de51d457b8c1f4ee1)


## 目录
<details>
<summary>展开更多</summary>

* [`同源策略`](#同源策略)
* [`可用方式`](#可用方式)
* [`跨域类型`](#跨域类型)
* [`常用方式`](#常用方式)

</details>

---

## 可用方式
- jsonp
- img
- iframe + window.name
  * ```js
  let first = true
  // onload事件会触发2次，第1次加载跨域页，并留存数据于window.name
  function load() {
    if(first){
    // 第1次onload(跨域页)成功后，切换到同域代理页面
      let iframe = document.getElementById('iframe');
      iframe.src = 'http://localhost:3000/b.html';
      first = false;
    }else{
    // 第2次onload(同域b.html页)成功后，读取同域window.name中数据
      console.log(iframe.contentWindow.name);
    }
  }
  ```
- cors header（前后端配合，后端设置Access-Control-Allow-Origin）
- postmessage
- websocket
- node中间件转发
- nginx反向代理

---

## 同源策略

---

## 跨域类型
- 简单类型
- 非简单类型

---

## 常用方式
- CORS
- jsonp

### CORS

### jsonp

---
